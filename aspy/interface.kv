<GridLayout>:
    padding: 5

<BoxLayout>:
    visible: True
    size_hint_x: 1 if self.visible else 0
    size_hint_y: 1 if self.visible else 0
    opacity: 1 if self.visible else 0
    disabled: not self.visible
    padding: 5

<Button>:
    visible: True
    size_hint_x: 1 if self.visible else 0
    size_hint_y: 1 if self.visible else 0
    opacity: 1 if self.visible else 0
    disabled: not self.visible
    coords: (0, 0)
    info: None

<Label>:
    visible: True
    size_hint_x: 1 if self.visible else 0
    size_hint_y: 0.5 if self.visible else 0
    opacity: 1 if self.visible else 0
    disabled: not self.visible
    markup: True
    font_name: './data/Asana-Math.otf'
    font_size: '20sp'

<TextInput>:
    visible: True
    size_hint_x: 1 if self.visible else 0
    size_hint_y: 0.5 if self.visible else 0
    opacity: 1 if self.visible else 0
    disabled: not self.visible
    multiline: False
    font_name: './data/Asana-Math.otf'
    font_size: '20sp'

<Interface>:
    GridLayout:
        rows: 1
        id: toplevel
        GridLayout:
            rows: 6
            id: elements
            size_hint: 0.5, 1
            ToggleButton:
                id: slack
                info: 'slack'
                background_normal: "./data/barra.jpg"
                background_down: "./data/barra.jpg"
                group: "elements"
                visible: False
            ToggleButton:
                id: lt
                info: 'lt'
                background_normal: "./data/linha.jpg"
                background_down: "./data/linha.jpg"
                group: "elements"

            ToggleButton:
                id: pq
                info: 'pq'
                background_normal: "./data/barra.jpg"
                background_down: "./data/barra.jpg"
                group: "elements"

            ToggleButton:
                id: pv
                info: 'pv'
                background_normal: "./data/gerador.jpg"
                background_down: "./data/gerador.jpg"
                group: "elements"

            ToggleButton:
                id: trafo
                info: 'trafo'
                background_normal: "./data/trafo.jpg"
                background_down: "./data/trafo.jpg"
                group: "elements"

            ToggleButton:
                id: s
                info: 's'
                background_normal: "./data/seta.jpg"
                background_down: "./data/seta.jpg"
                group: "elements"

        BoxLayout:
            on_parent: root.add_grid(grid, elements, toplevel)
            orientation: 'vertical'
            GridLayout:
                id: grid
                cols: 10
                rows: 10

        BoxLayout:
            ### SLACK ###
            orientation: 'vertical'
            size_hint: 0.5, 1
            id: inspectSL
            visible: False
            size_hint_x: 0.5 if self.visible else 0
            Label:
                id: NomeBarraSL
                text: "Barra #0 (SLACK)"
                visible: inspectSL.visible
            BoxLayout:
                orientation: 'horizontal'
                id: VBarraSL
                visible: inspectSL.visible
                Label:
                    visible: inspectSL.visible
                    text: "V (kV) ="
                TextInput:
                    visible: inspectSL.visible
                    text: "1.0"
            BoxLayout:
                orientation: 'horizontal'
                id: VBaseSL
                visible: inspectSL.visible
                Label:
                    visible: inspectSL.visible
                    text: "V[sub]base[/sub] (kV) ="
                TextInput:
                    visible: inspectSL.visible
                    text: "1.0"
            BoxLayout:
                orientation: 'horizontal'
                id: deltaBarraSL
                visible: inspectSL.visible
                Label:
                    visible: inspectSL.visible
                    text: "\u03B4 (\u00B0) ="
                TextInput:
                    visible: inspectSL.visible
                    text: "0"
            BoxLayout:
                orientation: 'horizontal'
                id: PgBarraSL
                visible: inspectSL.visible
                Label:
                    visible: inspectSL.visible
                    text: "P[sub]G[/sub] (MW) ="
                Label:
                    visible: inspectSL.visible
                    text: ""
            BoxLayout:
                orientation: 'horizontal'
                id: QgBarraSL
                visible: inspectSL.visible
                Label:
                    visible: inspectSL.visible
                    text: "Q[sub]G[/sub] (Mvar) ="
                Label:
                    visible: inspectSL.visible
                    text: ""
            BoxLayout:
                orientation: 'horizontal'
                id: PlBarraSL
                visible: inspectSL.visible
                Label:
                    visible: inspectSL.visible
                    text: "P[sub]L[/sub] (MW) ="
                TextInput:
                    visible: inspectSL.visible
                    text: "0.0"
            BoxLayout:
                orientation: 'horizontal'
                id: QlBarraSL
                visible: inspectSL.visible
                Label:
                    visible: inspectSL.visible
                    text: "Q[sub]L[/sub] (Mvar) ="
                TextInput:
                    visible: inspectSL.visible
                    text: "0.0"

        BoxLayout:
            ### LT ###
            orientation: 'vertical'
            size_hint: 0.5, 1
            id: inspectLT
            visible: False
            size_hint_x: 0.5 if self.visible else 0
            Label:
                id: NomeLT
                text: "Linha de Transmissao"
                visible: inspectLT.visible
            BoxLayout:
                orientation: 'horizontal'
                id: lLT
                visible: inspectLT.visible
                Label:
                    visible: inspectLT.visible
                    text: "\u2113 (km) ="
                TextInput:
                    visible: inspectLT.visible
                    text: "80"
                    # on_enter: root.update()
            BoxLayout:
                orientation: 'horizontal'
                id: rhoLT
                visible: inspectLT.visible
                Label:
                    visible: inspectLT.visible
                    text: "\u03C1 (n\u03A9m) ="
                FloatInput:
                    visible: inspectLT.visible
                    text: "17.8"
            BoxLayout:
                orientation: 'horizontal'
                id: rLT
                visible: inspectLT.visible
                Label:
                    visible: inspectLT.visible
                    text: "r (cm) ="
                FloatInput:
                    visible: inspectLT.visible
                    text: "2.5"
            BoxLayout:
                orientation: 'horizontal'
                id: D12LT
                visible: inspectLT.visible
                Label:
                    visible: inspectLT.visible
                    text: "D[sub]12[/sub] (m) ="
                FloatInput:
                    visible: inspectLT.visible
                    text: "1.0"
            BoxLayout:
                orientation: 'horizontal'
                id: D23LT
                Label:
                    visible: inspectLT.visible
                    text: "D[sub]23[/sub] (m) ="
                FloatInput:
                    visible: inspectLT.visible
                    text: "1.0"
            BoxLayout:
                orientation: 'horizontal'
                id: D31LT
                Label:
                    visible: inspectLT.visible
                    text: "D[sub]31[/sub] (m) ="
                FloatInput:
                    visible: inspectLT.visible
                    text: "1.0"
            BoxLayout:
                orientation: 'horizontal'
                id: dLT
                Label:
                    visible: inspectLT.visible
                    text: "d (cm) ="
                FloatInput:
                    visible: inspectLT.visible
                    text: "50"
            BoxLayout:
                orientation: 'horizontal'
                id: mLT
                visible: inspectLT.visible
                Label:
                    visible: inspectLT.visible
                    text: "condutores\npor fase"
                FloatInput:
                    visible: inspectLT.visible
                    text: "1"
                    multiline: False
            Button:
                id: removeLT
                visible: inspectLT.visible
                text: "REMOVE"

        BoxLayout:
            ### PQ ###
            orientation: 'vertical'
            size_hint: 0.5, 1
            id: inspectPQ
            visible: False
            size_hint_x: 0.5 if self.visible else 0
            Label:
                id: NomeBarraPQ
                text: "Barra "
                visible: inspectPQ.visible
            BoxLayout:
                orientation: 'horizontal'
                id: VBarraPQ
                visible: inspectPQ.visible
                Label:
                    visible: inspectPQ.visible
                    text: "V (kV) ="
                Label:
                    visible: inspectPQ.visible
                    text: ""
            BoxLayout:
                orientation: 'horizontal'
                id: deltaBarraPQ
                visible: inspectPQ.visible
                Label:
                    visible: inspectPQ.visible
                    text: "\u03B4 (\u00B0) ="
                Label:
                    visible: inspectPQ.visible
                    text: ""
            BoxLayout:
                orientation: 'horizontal'
                id: PBarraPQ
                visible: inspectPQ.visible
                Label:
                    visible: inspectPQ.visible
                    text: "P[sub]L[/sub] (MW) ="
                FloatInput:
                    visible: inspectPQ.visible
                    text: "0.0"
            BoxLayout:
                orientation: 'horizontal'
                id: QBarraPQ
                visible: inspectPQ.visible
                Label:
                    visible: inspectPQ.visible
                    text: "Q[sub]L[/sub] (Mvar) ="
                FloatInput:
                    visible: inspectPQ.visible
                    text: "0.0"
            Button:
                id: removeBarraPQ
                visible: inspectPQ.visible
                text: "REMOVE"

        BoxLayout:
            ### PV ###
            orientation: 'vertical'
            size_hint: 0.5, 1
            id: inspectPV
            visible: False
            size_hint_x: 0.5 if self.visible else 0
            Label:
                id: NomeBarraPV
                text: "Barra "
                visible: inspectPV.visible
            BoxLayout:
                orientation: 'horizontal'
                id: VBarraPV
                visible: inspectPV.visible
                Label:
                    visible: inspectPV.visible
                    text: "V (kV) ="
                FloatInput:
                    visible: inspectPV.visible
                    text: "1.0"
            BoxLayout:
                orientation: 'horizontal'
                id: deltaBarraPV
                visible: inspectPV.visible
                Label:
                    visible: inspectPV.visible
                    text: "\u03B4 (\u00B0) ="
                Label:
                    visible: inspectPV.visible
                    text: ""
            BoxLayout:
                orientation: 'horizontal'
                id: PgBarraPV
                visible: inspectPV.visible
                Label:
                    visible: inspectPV.visible
                    text: "P[sub]G[/sub] (MW) ="
                FloatInput:
                    visible: inspectPV.visible
                    text: "0.0"
            BoxLayout:
                orientation: 'horizontal'
                id: QgBarraPV
                visible: inspectPV.visible
                Label:
                    visible: inspectPV.visible
                    text: "Q[sub]G[/sub] (Mvar) ="
                Label:
                    visible: inspectPV.visible
                    text: ""
            BoxLayout:
                orientation: 'horizontal'
                id: PlBarraPV
                visible: inspectPV.visible
                Label:
                    visible: inspectPV.visible
                    text: "P[sub]L[/sub] (MW) ="
                FloatInput:
                    visible: inspectPV.visible
                    text: "0.0"
            BoxLayout:
                orientation: 'horizontal'
                id: QlBarraPV
                visible: inspectPV.visible
                Label:
                    visible: inspectPV.visible
                    text: "Q[sub]L[/sub] (Mvar) ="
                FloatInput:
                    visible: inspectPV.visible
                    text: ""
            Button:
                id: removeBarraPV
                visible: inspectPV.visible
                text: "REMOVE"

        BoxLayout:
            ### trafo ###
            orientation: 'vertical'
            size_hint: 0.5, 1
            id: inspectTRAFO
            visible: False
            size_hint_x: 0.5 if self.visible else 0
            Label:
                id: NomeTrafo
                text: "Trafo"
                visible: inspectTRAFO.visible
            BoxLayout:
                orientation: 'horizontal'
                id: V1TRAFO
                visible: inspectTRAFO.visible
                Label:
                    visible: inspectTRAFO.visible
                    text: "V[sub]base1[/sub] (kV) ="
                FloatInput:
                    visible: inspectTRAFO.visible
                    text: "1.0"
            BoxLayout:
                orientation: 'horizontal'
                id: V2TRAFO
                visible: inspectTRAFO.visible
                Label:
                    visible: inspectTRAFO.visible
                    text: "V[sub]base2[/sub] (kV) ="
                FloatInput:
                    visible: inspectTRAFO.visible
                    text: "1.0"
            BoxLayout:
                orientation: 'horizontal'
                id: STRAFO
                visible: inspectTRAFO.visible
                Label:
                    visible: inspectTRAFO.visible
                    text: "S[sub]nom[/sub] (MVA) ="
                FloatInput:
                    visible: inspectTRAFO.visible
                    text: "1.0"
            BoxLayout:
                orientation: 'horizontal'
                id: XTRAFO
                visible: inspectTRAFO.visible
                Label:
                    visible: inspectTRAFO.visible
                    text: "X (pu) ="
                FloatInput:
                    visible: inspectTRAFO.visible
                    text: "0.0"
            Button:
                id: removeTRAFO
                visible: inspectTRAFO.visible
                text: "REMOVE"

        BoxLayout:
            ### default ###
            orientation: 'vertical'
            size_hint: 0.5, 1
            id: inspectDefault
            visible: True
            size_hint_x: 0.5 if self.visible else 0
